<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Nagarajan" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Magic Square, Computing, Mathematics, Blog, " />

<meta property="og:title" content="Magic Squares "/>
<meta property="og:url" content="/magic-squares.html" />
<meta property="og:description" content="A conventional magic square of order n is a square filled with the numbers 1 through n*n such that the sum of the rows, columns and diagonals is the same. Each number in the square must be distinct, and thus every number is used exactly once. Surprisingly, it is …" />
<meta property="og:site_name" content="MotleyTech" />
<meta property="og:article:author" content="Nagarajan" />
<meta property="og:article:published_time" content="2015-05-29T16:25:00-07:00" />
<meta name="twitter:title" content="Magic Squares ">
<meta name="twitter:description" content="A conventional magic square of order n is a square filled with the numbers 1 through n*n such that the sum of the rows, columns and diagonals is the same. Each number in the square must be distinct, and thus every number is used exactly once. Surprisingly, it is …">

        <title>Magic Squares  · MotleyTech - variegated, technical and interesting
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.prod.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">

        <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name>MotleyTech</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <!-- <li ><a href="/categories.html">Categories</a></li>
                                <li ><a href="/tags.html">Tags</a></li> -->
                                <li ><a href="/archives.html">Archives</a></li>
                                <!-- <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li> -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset1">
        <h1>
            Magic Squares
        </h1>
            <small class="subtitle">
                <time itemprop="dateCreated" datetime="2015-05-29T16:25:00-07:00">Published : May 29, 2015</time>
            </small>
</header>
</div>

<div class="row-fluid">
        <div class="span10 offset1 article-content">
            
            <p>A conventional <a href="http://en.wikipedia.org/wiki/Magic_square">magic square</a> of order n is a square filled with the numbers 1 through n*n such that the sum of the rows, columns and diagonals is the same. Each number in the square must be distinct, and thus every number is used exactly once.</p>
<p>Surprisingly, it is very easy to create magic squares when n is odd. Magic squares of even n also exist, but creating them is comparatively more difficult.</p>
<p>What follows is a program to create odd magic squares of any (reasonable) size. Give it a try... enter an odd number (3 to 49) and the program should reply with a magic square.</p>
<script src="/js/magicSquare.js"></script>

<p><input id="sqsize" type="number" min="3" max="49" step="2" class="form-control" value="3" />
<button id="btngenerate" onclick="magicSquare.onGenerate()" class="btn btn-info" type="button">Generate!</button>
<span id="errorspan" class="label label-danger"></span></p>
<p><strong>Animation speed</strong>: <input id="aspeed" type="range" min="0" max="10" step="1" value="5" oninput="magicSquare.updateAnimSpeed()" style="width: 300px"/> <span id="viewspeed">1.0x</span><br />
<strong>Show arrows</strong>: <input id="ashow" type="checkbox" onchange="magicSquare.updateAnimShow()"/></p>
<hr />

<div id="magicsquare"></div>

<hr />

<h2>Algorithm</h2>
<p>The program uses an extraordinarily simple algorithm (which you might be able to understand in its entirety just by looking at the animation above). It is called the <a href="https://en.wikipedia.org/wiki/Siamese_method">Siamese Method</a>.</p>
<ol>
<li>We start at top row, middle column and write "1" in that cell.</li>
<li>
<p>We move diagonally from the current cell towards top right direction. There are 5 possibilities for this movement.</p>
<p>a. We reach an empty cell. In this case, we write the next number in the empty cell and it becomes our new current cell. Repeat step 2.</p>
<p>b. We reach an occupied cell. In this case, we move to the cell directly below the current cell (which will be empty). We write the next number into this cell, and it becomes the current cell. Repeat step 2.</p>
<p>c. We fall out of the square at the top (not the corner). In this case, we move to the cell on the last row on the next column and write the next number. Repeat step 2.</p>
<p>d. We fall out of the square at the right (not the corner). We move to the first column of the row above and write the next number. Repeat step 2.</p>
<p>e. We fall out at the top right corner. In this case, we move to the cell below the current cell and write the next number. Repeat step 2.</p>
</li>
<li>
<p>Done. :-).</p>
</li>
</ol>
<p>An even easier way to understand the algorithm is to imagine repeating copies of our square in both the x and y directions. In that case, the rules become even simpler.</p>
<ol>
<li>Start at middle of top row and write 1 (all copies of the square also get a 1 in the same place).</li>
<li>Move to the cell towards the top right. If top-right cell is occupied, move one cell down instead. Write the next number (in the same cell in all copies) and repeat this step.</li>
</ol>
<p>Much easier than remembering 5 different steps.</p>
<div style="position: fixed">
  <img class="arrows" id="greenarrowtopright" src="images/right-arrow-green.svg"
      style="transform: rotate(-45deg); display: none"
  />
</div>
<div style="position: fixed">
  <img class="arrows" id="greenarrowleft" src="images/right-arrow-green.svg"
      style="transform: rotate(180deg); display: none"
   />
</div>
<div style="position: fixed">
  <img class="arrows" id="greenarrowdown" src="images/right-arrow-green.svg"
      style="transform: rotate(90deg); display: none"
  />
</div>
<div style="position: fixed">
  <img class="arrows" id="redarrowleft" src="images/right-arrow-red.svg"
      style="transform: rotate(180deg); display: none"
  />
</div>
<div style="position: fixed">
  <img class="arrows" id="redarrowdown" src="images/right-arrow-red.svg"
      style="transform: rotate(90deg); display: none"
  />
</div>
<div style="position: fixed">
  <img class="arrows" id="redarrowtopright" src="images/right-arrow-red.svg"
      style="transform: rotate(-45deg); display: none"
  />
</div>
<div style="position: fixed">
  <img class="arrows" id="orangearrowtopright" src="images/right-arrow-orange.svg"
      style="transform: rotate(-45deg); display: none"
  />
</div>
<script>
  window.onload = function () { magicSquare.initialize() }
</script>
<noscript style="color:red">
  You must have javascript enabled in order to use this application.
</noscript>


             
 
            
            
            <hr />
            






<section>
    <h6 style="display:none;">Comments</h6>
    <p id="comment-message"> </p>

    <div class="accordion" id="accordion2">
        <div class="accordion-group">
            <div class="accordion-heading">
                <a class="accordion-toggle disqus-comment-count comment-count"
                   data-toggle="collapse"
                   data-parent="#accordion2"
                   data-disqus-identifier="magic_squares"
                   href="/magic-squares.html#comment_thread"
                   id="comment-accordion-toggle">
                    Comments
                </a>
            </div>
            <div id="comment_thread" class="accordion-body collapse">
                <div class="accordion-inner">
                    <div class="comments">
                        <div id="disqus_thread"></div>
                        <script>
    var disqus_shortname = 'motleytech';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

    var disqus_identifier = 'magic_squares';
    var disqus_url = '/magic-squares.html';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

        </div>
        <!-- <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2015-05-29T16:25:00-07:00">May 29, 2015</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories.html#blog-ref">Blog</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#computing-ref">Computing
                    <span>3</span>
</a></li>
                <li><a href="/tags.html#magic-square-ref">Magic Square
                    <span>1</span>
</a></li>
                <li><a href="/tags.html#mathematics-ref">Mathematics
                    <span>3</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
</div>
            





            





        </section> -->
</div>
</article>
                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
</html>